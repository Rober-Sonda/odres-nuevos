<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Odres Nuevos</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  
<script>
    const navbar = document.querySelector('.navbar');
    const sections = document.querySelectorAll('.section');
  
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const theme = entry.target.dataset.theme;
          navbar.setAttribute('data-theme', theme);
        }
      });
    }, {
      threshold: 0.5
    });
  
    sections.forEach(section => observer.observe(section));
  </script>
  <body>
    
    <header class="navbar">
      <nav>
        <button class="menu-toggle" aria-label="Abrir men√∫">‚ò∞</button>
        <div class="logo-container">
          <div class="logo-text">Odres Nuevos</div>
        </div>
        <ul class="nav-links">
          <li><a href="#inicio">Inicio</a></li>
          <li><a href="#guardianes">Guardianes</a></li>
          <li><a href="#discipulados">Discipulados</a></li>
          <li><a href="#escuela">Escuelas</a></li>
          <li><a href="#reuniones">Reuniones</a></li>
        </ul>
      </nav>
    </header>
    
  

    <section id="inicio" class="section" data-theme="inicio">
      <div class="section-overlay"></div>
      <div class="hero-content">
        <h1>Un nuevo tiempo de Dios para tu vida</h1>
        <h2>Siempre y cuando no te rindas tendr√°s una nueva oportunidad</h2>
        <p>Estamos para restaurar vidas, sanar corazones y activar el prop√≥sito eterno de Dios en las personas.</p>
        <a href="#reuniones" class="cta">Conoc√© m√°s</a>
      </div>
    </section>


    <section id="guardianes" class="section bg-guardianes" data-theme="guardianes">
      <div class="section-overlay">
        <h2>Guardianes del Reino</h2>
        <p>Formando generaciones firmes en la Palabra mediante juegos, dramatizaciones y adoraci√≥n.</p>
        
        <ul class="custom-list">
          <li>Edades: 3 a 11 a√±os</li>
          <li>S√°bados a las 11:00 hs</li>
          <li>Modalidad presencial</li>
        </ul>
        
        <p class="invitacion">¬°Tra√© a tus ni√±os a descubrir que Dios no es solo una experiencia, sino un Padre que desea habitar en sus corazones cada d√≠a!</p>

        <a href="#reuniones" class="cta-guardianes">Quiero llevarlos</a>
      </div>
    </section>
    
  
  

  <section id="discipulados" class="section bg-discipulados" data-theme="discipulados">
    <div class="section-overlay">
      <h2>Discipulados: Creciendo en intimidad con Dios</h2>
      <p>Formaci√≥n espiritual personalizada, conexi√≥n con otros y acompa√±amiento pastoral.</p>
      <ul class="custom-list">
        <li>Mi√©rcoles 20:00 hs</li>
        <li>S√°bados 10:00 hs</li>
        <li>Presencial y virtual</li>
      </ul>
      <a href="#contacto" class="cta">Quiero sumarme</a>
    </div>
  </section>
  

  <section id="escuela" class="section bg-escuela" data-theme="escuela">
    <div class="section-overlay">
      <h2>Escuela de Formaci√≥n Prof√©tica</h2>
      <p>Formate para servir en el Reino con excelencia espiritual. Cada etapa activa una nueva dimensi√≥n del llamado.</p>
  
      <div class="card-container">

      <!-- CARD 1 -->
      <div class="card" data-date="2025-04-12">
        <div class="card-image">
          <div class="card-image-overlay">
            <h3 class="card-title-overlay">Fundamentos B√≠blicos</h3>
          </div>
        </div>
        <div class="card-content">
          <p><strong>Orador:</strong> Pr. Daniel R√≠os</p>
          <p class="fecha-inicio"></p>
          <p>Establece las bases doctrinales para una vida s√≥lida en Cristo.</p>
        </div>
      </div>
      
      
    
      <!-- CARD 2 -->
      <div class="card card-profecia" data-date="2025-06-21">
        <div class="card-image">
          <div class="card-image-overlay">
            <h3 class="card-title-overlay">Profec√≠a Aplicada</h3>
          </div>
        </div>
        <div class="card-content">
          <p><strong>Orador:</strong> Profeta Ana Torres</p>
          <p class="fecha-inicio"></p> <!-- se completa autom√°ticamente -->
          <p>Aprend√© a identificar la voz de Dios, fluir con precisi√≥n y activar dones prof√©ticos con prop√≥sito.</p>
        </div>
      </div>
      
      
      
    
      <!-- CARD 3 -->
      <div class="card card-logo-bg" data-date="2025-08-16">
        <div class="card-image">
          <div class="card-image-overlay">
            <h3 class="card-title-overlay">Identidad en Cristo</h3>
          </div>
        </div>
        <div class="card-content">
          <p><strong>Orador:</strong> Pastora M√≥nica Ruiz</p>
          <p class="fecha-inicio"></p> <!-- se completa autom√°ticamente -->
          <p>Redescubr√≠ qui√©n sos en Dios, desechando mentiras del pasado y afirmando tu valor eterno.</p>
        </div>
      </div>
      
    
      <!-- CARD 4 -->
      <div class="card card-logo-bg" data-date="2025-10-18">
        <div class="card-image">
          <div class="card-image-overlay">
            <h3 class="card-title-overlay">Intercesi√≥n Prof√©tica</h3>
          </div>
        </div>
        <div class="card-content">
          <p><strong>Orador:</strong> Ap√≥stol Lucas Vara</p>
          <p class="fecha-inicio"></p> <!-- se completa autom√°ticamente -->
          <p>Activ√° tu autoridad espiritual para cambiar atm√≥sferas y pelear batallas del Reino en oraci√≥n efectiva.</p>
        </div>
      </div>      
    </div>
  </section>
  
  <section id="reuniones" class="section" data-theme="reuniones">
    <div class="reuniones-container">
      <div class="reuniones-info">
        <h2>Reuniones</h2>
        <ul class="custom-list">
          <li>Domingos 18:00 hs ‚Äì Reuni√≥n General</li>
          <li>Martes 19:30 hs ‚Äì Altares de adoraci√≥n e intercesi√≥n</li>
          <li>S√°bados 11:00 hs ‚Äì Guardianes del Reino</li>
        </ul>
        <p>¬°Est√°s invitado!</p>
      </div>
      <div class="reuniones-mapa" style="max-width: 600px; width: 100%;">
        <iframe
          width="100%"
          height="300"
          style="border:0"
          loading="lazy"
          allowfullscreen
          src="https://maps.google.com/maps?q=Avellaneda%20635%2C%209%20de%20Julio%2C%20Buenos%20Aires%2C%20Argentina&hl=es&z=16&output=embed&markers=Avellaneda%20635%2C%209%20de%20Julio%2C%20Buenos%20Aires%2C%20Argentina">
        </iframe>
      </div>
      
      
    </div>
  </section>
  
  <footer id="contacto" class="footer">
    <div class="footer-container">
      <div class="footer-box footer-info">
        <p><strong>üìç Direcci√≥n:</strong> Av. Avellaneda 635, 9 de julio, Buenos Aires, Argentina</p>
        <p><strong>üìû Tel√©fono:</strong> +54 9 2317 566-684</p>
        <p><strong>‚úâ Correo:</strong> 
          <a href="mailto:odresnuevos2024.5@gmail.com">odresnuevos2024.5@gmail.com</a>
        </p>
      </div>
      <div class="footer-box footer-social">
        <p><strong>Nuestras Redes</strong></p>
        <p><a href="https://instagram.com/ministerioodresnuevos" target="_blank">Instagram</a></p>
        <p><a href="https://facebook.com/querit.odresnuevos" target="_blank">Facebook</a></p>
        <p><a href="https://youtube.com/@odresnuevosministerio" target="_blank">YouTube</a></p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Ministerio Odres Nuevos ‚Äî Todos los derechos reservados.</p>
    </div>
  </footer>
  
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // C√≥digo men√∫ hamburguesa
      const menuToggle = document.querySelector('.menu-toggle');
      const navLinks = document.querySelector('.nav-links');
  
      menuToggle.addEventListener('click', (e) => {
        e.stopPropagation();
        navLinks.classList.toggle('active');
      });
  
      document.querySelectorAll('.nav-links a').forEach(link => {
        link.addEventListener('click', () => {
          navLinks.classList.remove('active');
        });
      });
  
      document.addEventListener('click', (e) => {
        const isClickInside = navLinks.contains(e.target) || menuToggle.contains(e.target);
        if (!isClickInside) {
          navLinks.classList.remove('active');
        }
      });
  
      // L√≥gica para las fechas y tarjetas
      const today = new Date();
      const cards = document.querySelectorAll('.card[data-date]');
      let closestCard = null;
      let minDiff = Infinity;
  
      cards.forEach(card => {
        const dateStr = card.dataset.date;
        const [year, month, day] = dateStr.split('-').map(Number);
        const date = new Date(year, month - 1, day);
  
        const options = { day: 'numeric', month: 'long' };
        const fechaFormateada = new Intl.DateTimeFormat('es-AR', options).format(date);
        const elementoFecha = card.querySelector('.fecha-inicio');
        if (elementoFecha) {
          elementoFecha.innerHTML = `<strong>Inicio:</strong> ${fechaFormateada} ‚Äì 17:00 hs`;
        }
  
        const diff = date - today;
        if (diff >= 0 && diff < minDiff) {
          minDiff = diff;
          closestCard = card;
        }
      });
  
      if (closestCard) {
        const badge = document.createElement('span');
        badge.classList.add('badge');
        badge.textContent = 'üü¢ Pr√≥xima Escuela';
        closestCard.querySelector('.card-content').appendChild(badge);
        closestCard.classList.add('highlight');
      }
  
      // NUEVO: Cambio de tema en navbar seg√∫n secci√≥n visible
      const navbar = document.querySelector('.navbar');
      const sections = document.querySelectorAll('.section');
  
      // Funci√≥n para obtener la secci√≥n m√°s visible en la ventana
      function getMostVisibleSection() {
        let maxVisibleHeight = 0;
        let mostVisibleSection = null;
  
        sections.forEach(section => {
          const rect = section.getBoundingClientRect();
          // Calcula altura visible dentro de viewport (limita entre 0 y altura viewport)
          const visibleHeight = Math.min(rect.bottom, window.innerHeight) - Math.max(rect.top, 0);
          if (visibleHeight > maxVisibleHeight) {
            maxVisibleHeight = visibleHeight;
            mostVisibleSection = section;
          }
        });
  
        return mostVisibleSection;
      }
  
      // Actualiza el tema del navbar basado en la secci√≥n m√°s visible
      function updateNavbarTheme() {
        const section = getMostVisibleSection();
        if (section) {
          const theme = section.dataset.theme || 'default';
          navbar.setAttribute('data-theme', theme);
        }
      }
  
      // Observador para detectar cambios de visibilidad (menos thresholds para mejor performance)
      const observer = new IntersectionObserver(() => {
        updateNavbarTheme();
      }, {
        threshold: [0.25, 0.5, 0.75, 1]
      });
  
      sections.forEach(section => observer.observe(section));
  
      // Tambi√©n actualizar el tema al hacer scroll (m√°s fluido y preciso)
      window.addEventListener('scroll', () => {
        updateNavbarTheme();
      });
  
      // Actualizar al cargar la p√°gina
      updateNavbarTheme();
    });
  </script>
  
  
  
  
</body>
</html>
